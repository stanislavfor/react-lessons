![](../assets/react-top.png)
# Фреймворк React JS. Обучение: Факультатив
## Урок 15,16. Работа с API
### - > [Переход в Корневой каталог](../README.md)
### Домашнее задание

В финальном проекте вам необходимо применить все знания, которые вы получили на протяжении всего курса.

Для выполнения задания вам потребуется вёрстка сайта Интернет-магазина из курсов по HTML/CSS:
[figma.com / file](https://www.figma.com/file/SbfOi2i4S1pIs0G6uOLPCx/shop-(Copy)?type=design&node-id=0-1&mode=design&t=HqHf7Yort2ND3o3y-0)

Так как у вас уже есть готовая вёрстка, вам необходимо перевести проект на react. <br><br>
![](../assets/mockup.jpg)

#### Функционал который необходим:

1. Все товары являются компонентами.

2. Разбить сайт на необходимые компоненты, чтобы исключить дублирование кода и чтобы можно было легче редактировать проект.

3. На странице каталога есть сортировка по размеру (S, XS, L, M) необходимо реализовать данный функционал, <br> 
   к какому именно размеру будет относиться тот или иной товар, не имеет значения.

4. Реализовать переключение между страницами с помощью Routing.

5. На странице корзины реализовать верный подсчет общей цены товаров (GRAND TOTAL \$900). <br>
   И реализовать возможность менять количество товара, это также должно влиять на цену товар (GRAND TOTAL $900).

##
### Решение задания
## Перевод HTML-шаблона интернет-магазина в React-приложение
### Цель задания

На основе курса и предоставленной вёрстки (`new-brand.zip`), реализовать одностраничное приложение интернет-магазина на React с поддержкой:

* компонентов,
* маршрутизации,
* сортировки товаров,
* управления корзиной,
* стилизации по макету.

##
### Команды для запуска приложения

Для доступа в проект выполнить команды:
```bash
  cd lesson-8/work-8/new-brand-react-app
```
```bash
  npm start
```

### Команда для остановки приложения
- Для остановки работы приложения React, в консоли работающего приложения нажать комбинацию клавиш 
```
  "CTRl" + "C"
```

### Принудительная остановка процесса на порту 3000

- Для Windows (PowerShell) для остановки порта 3000, если консоль уже закрыта, выполнить команду:

    ```bash
      Get-NetTCPConnection -LocalPort 3000 -State Listen | ForEach-Object {
        Stop-Process -Id $_.OwningProcess -Force
    }    
    ```
##
## 1. Инициализация проекта

Для работы над новым проектом перейти в папку 'lesson-8/work-8/', выполнив команду:
```bash
  cd lesson-8/work-8/
```
Далее создать проект с помощью команды:
```bash
  npx create-react-app new-brand-react-app
```
Перейти в папку с новым проектом:
```bash
  cd new-brand-react-app
```

##
### 1.1 Зависимости, используемые в проекте

Установить зависимости:

```bash
    npm install react-router-dom
```

```bash
    npm install @reduxjs/toolkit react-redux

```
```bash
    npm install redux-persist
```

```bash
    npm install redux-thunk
```

##
## 2. Реализация проекта
### 2.1. Роутинг и навигация

- Настроен `react-router-dom`:

  - `/` — главная
  - `/men/:category` - категории
  - `/product/:id` - карточка товара
  - `/cart` - корзина
  - `*` -`NotFoundPage` для несуществующих маршрутов

##
### 2.2. Структура проекта

- Созданы следующие директории в проекте, в папке src/:
  - components/ -  Переиспользуемые компоненты: Header, Footer, ProductCard и др.
  - pages/   -  Страницы: CatalogPage, ProductPage, CartPage, NotFoundPage
  - redux/   -  Redux store, cartSlice
- Созданы следующие директории в проекте, в папке public/:
  - img/   - Изображения и ресурсы
  - css/  -  CSS/SCSS стили
  - fonts/ - загружаемые шрифты

##
### 2.3. Страницы

- AccountPage.js
  - Страница личного кабинета пользователя. 
  - Может включать информацию о заказах, настройках профиля, логине и регистрации и другие данные пользователя.
  - Требует доработки по согласованному плану.
- CartPage.js
  - Страница отображения корзины покупателя. 
  - Показывает товары, их размеры, количество, цену за единицу и общую сумму. 
  - Поддерживает удаление и изменение количества товаров.
- CategoryPage.js
  - Страница отображения товаров определённой категории, например, `/men/polos`, `/women/polos` и другие наименования. 
  - Поддерживает фильтрацию по размерам и добавление товаров в корзину.
- HomePage.js
  - Главная страница сайта. 
  - Содержит общий обзор магазина, баннеры, категории, акции, подборки популярных товаров.
- ProductPage.js
  - Страница с подробным описанием одного конкретного товара. 
  - Позволяет выбрать размер и добавить товар в корзину с отображением уведомления.
- SearchPage.js
  - Страница отображения результатов поиска по сайту. 
  - Выводит товары, соответствующие введённому запросу, с возможностью фильтрации и перехода к деталям товара.
  - Требует доработки по согласованному плану.

- Страница `/men/:category` или `/women/:category`, например, bags, accessories и другие элементы:
  - Выводит товары соответствующей категории
  - Фильтрация по размеру: `XS`, `S`, `M`, `L`, `XL`
  - Добавление в корзину - с размером, ценой, количеством
  
##
### 2.4. Компоненты

Созданы переиспользуемые компоненты:

- `Header`, `Footer`, `Subscribe`, `Feature`, `Section`
- `TopItems`, `ProductCard`
- `CategoryFilter`, `ThemeToggle`
- `Notification` для всплывающих сообщений

##
### 2.5. Верстка и стилизация

- Исходный HTML/CSS был разделён на переиспользуемые компоненты
- Подключен глобальный CSS (`style.css`)
- Использованы адаптивные стили и `media queries` для мобильных устройств
- Наведение на карточки товаров реализует затемнение и кнопку "Add to Cart"

##
### 2.6. Логика корзины (`Redux Toolkit`)

Использован `@reduxjs/toolkit`:

-`cartSlice.js`: логика для добавления, удаления, обновления количества
- Применён `redux-persist` для сохранения данных корзины при перезагрузке

- Состояние:
```
items: [
  { id, title, size, price, quantity }
]
```
- Экшены:
    - `addToCart`
    - `removeFromCart`
    - `updateQuantity`
    - `clearCart`
- `redux-persist`: сохраняет корзину в `localStorage`


##
### 2.7. Страница корзины

- Таблица с товарами:
    - Название
    - Размер
    - Количество (с возможностью редактирования)
    - Цена за единицу и общая
    - Кнопка удаления
- Общая сумма `Total: $...`
- Сообщение, если корзина пуста

![cart](./../assets/react-cart.jpg)

##
### 2.8. Обработка ошибок

- `NotFoundPage` при недопустимом URL
- Проверка пустой корзины
- Удалены предупреждения ESLint

![cart](./../assets/react-404.jpg)

<br><br><br><br>
### - > [Переход в Корневой каталог](../README.md)
<hr><hr><hr><hr>

![](../assets/react.png)

<hr><hr><hr><hr>